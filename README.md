# MLUT project #
Project template for development with [MLUT](https://bitbucket.org/MrZidan150/mlut-lib/).

## System requirements ##
* [Node.js](https://nodejs.org/en/)
* Git Bash - for Windows users.

## Installation ##
```
git clone https://MrZidan150@bitbucket.org/MrZidan150/mlut-project.git
cd mlut-project
npm install
```

## Build the project ##
For building and automation uses the [Gulp](https://github.com/gulpjs/gulp) task runner.

### Basic commands ###
Enter the following commands in your terminal.

#### Dev server ####
To start development server with livereload, run gulp watcher:
```
npm run gulp 
```
or add path to `gulp` in environment variable `PATH`
```bash
export PATH=./node_modules/.bin:$PATH
```
and run gulp easier
```
gulp
```
server start in `src/` folder by default and your `src/index.html` will be on `localhost:3000`.

To stop dev server press `Ctrl + c` in your terminal

#### Build ####
To build project without watcher, execute:
```
npm run build 
```
or
```
gulp build
```

#### Minify images ####
```
npm run imgmin 
```
or
```
gulp imgmin
```
You can minify images with `build` task too.

All code for production are in `dist/` folder.

### Code ###
For writing html by default is used [Pug](https://github.com/pugjs/pug) template engine. Files from `src/pug/` will be compiled to html in `src/` except those in the `src/pug/includes/` or other sub folders. `src/pug/includes/` contains code for reuse on different pages. If you don't want use pug delete `src/pug/` folder from the project.

For writing styles is used [LibSass](https://github.com/sass/libsass) (scss syntax).

All styles should be written or included in `src/sass/style.scss`:
```scss
@import "my-block";
```

Scripts similarly should be written or included in `src/js/script.js`. You can include code via `gulp-rigger`:
```js
//= block.js
```

All styles from `src/sass/` will be linted by [Stylelint](https://github.com/stylelint/stylelint). 

For store third party libs use `src/libs/` directory. Files from this directory is not linted. Also they is ignored by git except for `mlut.*` files.

### Configs ###
Files in which you can find configs:
  * `gulpfile.js` - project assembly
  * `package.json` - scripts and package info
  * `.stylelintrc` - Stylelint rules
  * `.browserslistrc` - list of browsers for which vendor prefixes are generated by [Autoprefixer](https://github.com/postcss/autoprefixer)
  * `src/sass/includes/_settings.scss` - MLUT styles settings and compilation flags

### Assets ###
Images put in `src/img/` directory. All images from there will be minified except for those in the `src/img/sprite-parts/`. This directory is needed for store the parts of css sprites.

Web fonts put in `src/fonts/`.

All assets for production also are in `dist/` folder.

## Work with MLUT ##
There are 2 ways to start using MLUT:
  * assembled dist
  * developer toolkit

### Dist ###
You can link assembled MLUT files to page. For get all dist, enter:
```
npm run mlut-dist
```
If you want to link only css, execute:
```
npm run mlut-get-css
```
or similarly for get scss if you want include it to `style.scss`
```
npm run mlut-get-scss
```
all scripts put files in `src/libs/` directory.

### Toolkit ###
You can get MLUT sources for using full toolkit: sass mixins, functions, utils etc. Also you can build custom bundle of blocks and utils.

For get sources:
```
npm run mlut-src
```
After that sources appear in project folder.

#### Styles ####
To get started, uncomment imports of sass settings and tools in `src/sass/style.scss`:
``` scss
@import "includes/settings";
@import "includes/functions";
@import "includes/mixins";
```
Also in `src/sass/style.scss` there is examples of includes MLUT blocks and utils. You can import only files that you want and build custom bundle or redefine existing with new settings.

After execution `mlut-src` in `src/sass/` will appear `mlut.scss` which contains imports for build default bundle. If you want use it execute:
```
npm run mlut-scss
```
This write content `mlut.scss` to `src/sass/style.scss` and delete `mlut.scss`.

By default all MLUT sources except `src/sass/includes/_settings.scss` written in `.gitignore`.
